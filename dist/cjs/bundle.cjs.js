"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=["string","array","object","number","boolean","date"],r={missingValuesAllowed:!1,extraValuesAllowed:!1};function t(e,r){return Object.keys(e).forEach((function(t){var a=e[t],i=function(e,r){switch(e){case"boolean":return function(e){return{desiredType:"boolean",encounteredJSONValue:JSON.stringify(e),isValid:"boolean"==typeof e}}(r);case"string":return function(e){return{desiredType:"string",encounteredJSONValue:JSON.stringify(e),isValid:"string"==typeof e}}(r);case"number":return function(e){return{desiredType:"number",encounteredJSONValue:JSON.stringify(e),isValid:"number"==typeof e&&NaN!==e}}(r);case"object":return n(r);case"date":return function(e){return{desiredType:"date",encounteredJSONValue:JSON.stringify(e),isValid:e instanceof Date}}(r);case"array":return function(e){return{desiredType:"array",encounteredJSONValue:JSON.stringify(e),isValid:Array.isArray(e)}}(r);default:return!1}}(r[t],a);return!i.isValid&&function(e,r){throw new Error("Validation Error! The value of key: "+e+" was "+(t=r.encounteredJSONValue,t.replace(/\\/g,"").replace(/\"/g,"'")+" and not an ")+r.desiredType);var t}(t,i),i.isValid})),!0}function n(e){return{desiredType:"object",encounteredJSONValue:JSON.stringify(e),isValid:!("object"!=typeof e||Array.isArray(e)||e instanceof Date)}}exports.validate=function(a){var i,o,u,s;try{o=a.target,u=a.schema,s=void 0===(i=a.options)?{}:i}catch(e){throw new Error("Validation Error! Input should be validate({target: {}, schema: {}, options: {})")}if(!n(s).isValid)throw new Error("Options Error! Invalid Options Object");var c=Object.assign(r,s),l=c.extraValuesAllowed,d=c.missingValuesAllowed;if(!function(r){return!!n(r).isValid&&Object.values(r).reduce((function(r,t){if(r&&!(r=e.includes(t)))throw new Error("Schema Error! The parameter of '"+t+"' is not recognized as a valid key,\n          Please use 'string', 'array', 'object', 'number' or 'boolean'");return r}),!0)}(u))throw new Error("Schema Error! Invalid Schema Object");if(!n(o).isValid)throw new Error("Target Error! Invalid Target Object");return!(!l&&!function(e,r){var t=Object.keys(e),n=Object.keys(r).filter((function(e){return!t.includes(e)}));if(n.length)throw new Error("Target Error! You have unaccounted missing values ["+n.toString()+"] on the target object");return!0}(o,u))&&(!(!d&&!function(e,r){var t=Object.keys(e),n=Object.keys(r),a=t.filter((function(e){return!n.includes(e)}));if(a.length)throw new Error("Target Error! You have unaccounted extra values["+a.toString()+"] on the target object");return!0}(o,u))&&t(o,u))};
